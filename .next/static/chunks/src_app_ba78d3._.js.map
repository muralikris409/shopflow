{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/murali/Documents/Cloning%20task/shopflow/src/app/service/UserService.js"],"sourcesContent":["import { axiosInstance as axios, axiosInstance } from \"../api/axios\";\n\nexport async function login(formdata) {\n    const { email, password } = formdata;\n  \n    try {\n        const response = await axios.post(\"user/login\", {\n            email: email,\n            password: password\n        });\n\n        const { token, data } = response.data;\n\n        localStorage.setItem(\"shopflow_session\", JSON.stringify({ user: data, token }));\n        return { data, token };\n    } catch (error) {\n        \n            throw new Error(error.response.data.message || \"An error occurred during login.\");\n       \n    }\n}\n\nexport async function signUp(formdata) {\n    const { username: name, email, password } = formdata;\n\n    try {\n        const response = await axios.post(\"user/signup\", {\n            name,\n            email,\n            password\n        }, {\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        });\n\n        return response.data;\n    } catch (error) {\n       \n            throw new Error(error.response.data.message || \"An error occurred during sign-up.\");\n        \n    }\n}\n\nexport async function googleOAuth(data) {\n    try {\n        const response = await axios.post(\"user/oauth\", {\n            name: data.name,\n            email: data.email,\n            image: data.image,\n            id: data.id\n        });\n\n        const { token, data: user } = response.data;\n\n        localStorage.setItem(\"shopflow_session\", JSON.stringify({ user: user, token }));\n        return response.data;\n    } catch (error) {\n       \n            throw new Error(error.response.data.message || \"An error occurred during Google OAuth.\");\n       \n    }\n}\n\nexport async function forgotPassword(email) {\n  try {\n    const response = await axiosInstance.post(`user/forgotPassword?email=${email}`);\n    console.log(response)\n    if (response.status === 200) {\n      return {\n        ok: true,\n        data: response.data,\n      };\n    }\n    return {\n      ok: false,\n      message: response.data?.message || \"Something went wrong.\",\n    };\n  } catch (err) {\n    console.log(err)\n    throw err;\n  }\n}\nexport async function resetPassword(token,password){\n    try{\n    const response=await axiosInstance.post(`user/resetPassword?token=${token}&newPassword=${password}`);\n        return response;\n    console.log(response);\n   \n}\ncatch(err){\n    console.log(err);\n}\n}\nexport async function getProfileInfo(token,userId){\n    try{\n        console.log(\"test\")\n    const response=await axiosInstance.post(`user/userProfileInfo?userId=${userId}`,{},{\n        headers:{\n            Authorization:`Bearer ${token}`\n        }\n    });\n    console.log(response);\n        return response;\n   \n}\ncatch(err){\n    console.log(err);\n}\n}\nexport async function updateProfileInfo(token,userId,data){\n    try{\n        console.log(\"test\")\n    const response=await axiosInstance.post(`user/updateUserProfile?userId=${userId}`,\n        data\n        \n\n    ,{\n        headers:{\n            Authorization:`Bearer ${token}`,\n            'Content-Type': 'multipart/form-data',\n\n        }\n    });\n    console.log(response);\n        return response;\n    \n   \n}\ncatch(err){\n    console.log(err);\n    \n}\n}\n\n\n// export async function fetchUserAddresses (token,userId){\n//   try {\n//     const response = await axiosInstance.post(`user/getAllAddress?userId=${userId}`,{}, {\n      \n//       headers:{\n//         Authorization:`Bearer ${token}`\n//     }\n//     });\n//     console.log(response)\n//     return response.data; \n//   } catch (error) {\n//     console.error(\"Error fetching addresses:\", error);\n//     return { error: error.message || \"Something went wrong!\" };\n//   }\n// };\n// export const makeAddressPrimary = async (token,userId,addressId) => {\n//     try {\n//       const response = await axiosInstance.post(`user/makePrimaryAddress`,{}, {\n//         params: { userId,addressId },\n//         headers:{\n//           Authorization:`Bearer ${token}`\n//       }\n//       });\n//       console.log(response)\n//       return response.data.data; \n//     } catch (error) {\n//       console.error(\"Error fetching addresses:\", error);\n//       return { error: error.message || \"Something went wrong!\" };\n//     }\n//   };\n\n// export const addAddress = async (token, userId, addressData) => {\n//   try {\n//     const { street, city, state, country, zip, isPrimary } = addressData;\n\n//     const response = await axiosInstance.post(\n//       'user/addAddress',\n//       {},\n//       {\n//         params: {\n//           userId,\n//           street,\n//           city,\n//           state,\n//           country,\n//           zip,\n//           isPrimary,\n//         },\n//         headers: {\n//           Authorization: `Bearer ${token}`,\n//         },\n//       }\n//     );userProfileInfo\n\n//     return response.data.data; \n//   } catch (error) {\n//     console.error(\"Error adding address:\", error);\n//     return { error: error.response?.data?.message || \"Something went wrong!\" };\n//   }\n// };\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 188, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 194, "column": 0}, "map": {"version":3,"sources":["file:///home/murali/Documents/Cloning%20task/shopflow/src/app/service/UserCartService.js"],"sourcesContent":["\"use client\";\n\nimport { useSelector } from \"react-redux\";\nimport { axiosInstance } from \"../api/axios\";\n\nfunction UserCartService() {\n  const token = useSelector((state) => state.session.token);\n\n  const cartKey = 'shopflow';\n\n  const getHeaders = () => ({\n    Authorization: `Bearer ${token}`,\n    'Content-Type': 'application/json',\n  });\n\n  this.loadCart = function() {\n    const storedCart = localStorage.getItem(cartKey);\n    return storedCart ? JSON.parse(storedCart) : [];\n  };\n\n  this.saveCart = function(cart) {\n    localStorage.setItem(cartKey, JSON.stringify(cart));\n  };\n\n  this.migrateCart = async function(userId) {\n    const guestCart = this.loadCart();\n    console.log(guestCart,userId);\n    if (guestCart.length > 0) {\n      for (const item of guestCart) {\n        try {\n          const res=await this.addItemToCart(userId, item.id, item.quantity);\n          console.log(\"migrated\",res)\n          \n        } catch (error) {\n          console.error('Error migrating cart item:', error);\n        }\n      }\n      this.clearCart();\n      \n    }\n  };\n\n  this.addItemToCart = async function(userId, productId, quantity = 1) {\n    console.log(userId);\n    console.log(productId);\n    try {\n      const response = await axiosInstance.post(\n        // `/user/cart/addItemToCart?userId=${userId}&productId==${userId}4&quantity=${quantity}`, \n        `/user/cart/addItemToCart`,\n       {},\n        {\n          params:{\n            \n              userId,\n              productId,\n              quantity\n             \n          },\n          headers: getHeaders()\n        }\n      );\n      \n\n        return response.data;\n    \n    \n    } catch (error) {\n      console.log(error)\n      console.error('Error adding item to cart:', error);\n      throw error.response ? error.response.data : new Error('Network or server error');\n    }\n  };\n\n  this.viewCart = async function(userId) {\n    try {\n      const response = await axiosInstance.get('/user/cart/viewCart', {\n        params: { userId },\n        headers: getHeaders(),\n      });\n\n      if (response.status === 200) {\n        return response.data.data || [];\n      } else {\n        throw new Error(response.data.message || 'Failed to retrieve cart');\n      }\n    } catch (error) {\n      console.error('Error viewing cart:', error);\n      throw error.response ? error.response.data : new Error('Network or server error');\n    }\n  };\n\n  this.deleteFromCart = async function(userId, productId) {\n    try {\n      const response = await axiosInstance.delete('/user/cart/deleteFromCart', {\n        params: { userId, productId },\n        headers: getHeaders(),\n      });\n\n      if (response.status === 200) {\n        return response.data;\n      } else {\n        throw new Error(response.data.message || 'Failed to delete item from cart');\n      }\n    } catch (error) {\n      console.error('Error deleting item from cart:', error);\n      throw error.response ? error.response.data : new Error('Network or server error');\n    }\n  };\n\n  this.updateCartCount = async function(userId, productId, operation) {\n    try {\n      const response = await axiosInstance.put('/user/cart/cartCount', {}, {\n        params: { userId, productId, operation },\n        headers: getHeaders(),\n      });\n      console.log(response.status)\n      if (response.status === 200) {\n        return response.data;\n      } else {\n        throw new Error(response.data || 'Failed to update cart count');\n      }\n    } catch (error) {\n      console.error('Error updating cart count:', error);\n      throw error;\n    }\n  };\n\n  this.clearCart = function() {\n    localStorage.removeItem(cartKey);\n  };\n}\n\nexport default UserCartService;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 329, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 335, "column": 0}, "map": {"version":3,"sources":["file:///home/murali/Documents/Cloning%20task/shopflow/src/app/%28authentication%29/auth/page.js"],"sourcesContent":["\"use client\";\nimport React, { useState, useEffect } from \"react\";\nimport { FaGoogle } from \"react-icons/fa\";\nimport { signIn, useSession } from \"next-auth/react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { setSession } from \"../../_lib/sessionReducer\";\nimport { useRouter } from \"next/navigation\";\nimport { googleOAuth, login, signUp } from \"@/app/service/UserService\";\nimport Link from \"next/link\";\nimport UserCartService from \"@/app/service/UserCartService\";\nconst AuthForm = () => {\n  const [isLogin, setIsLogin] = useState(true);\n  const [formData, setFormData] = useState({});\n  const [errors, setErrors] = useState({});\n  const userCartService=new UserCartService();\n  const [success, setSuccess] = useState(null);\n  const [loading,setLoading]=useState(false);\n  const { data: session, status } = useSession();\n  const dispatch = useDispatch();\n  const router = useRouter();\n  const toggleForm = () => {\n    setIsLogin(!isLogin);\n    setFormData({});\n    setErrors({});\n    setSuccess(null);\n  };\n\n  const handleChange = (field, value) => {\n    setFormData({ ...formData, [field]: value });\n    setErrors({ ...errors, [field]: \"\" });\n  };\n\n  const syncUser = () => {\n    const userData = localStorage.getItem(\"shopflow_session\");\n    if (userData) {\n      try {\n        const parsedData = JSON.parse(userData);\n        dispatch(setSession(parsedData));\n      } catch (error) {\n        console.error(\"Failed to parse user data:\", error);\n      }\n    }\n  };\n\n  const validate = () => {\n    const validationErrors = {};\n    const requiredFields = isLogin\n      ? [\"email\", \"password\"]\n      : [\"email\", \"password\", \"confirmPassword\", \"username\"];\n\n    requiredFields.forEach((field) => {\n      if (!formData[field]) {\n        validationErrors[field] = `${field.charAt(0).toUpperCase() + field.slice(1)} is required`;\n      } else if (field === \"email\") {\n        const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n        if (!emailRegex.test(formData[field])) {\n          validationErrors[field] = \"Invalid email format\";\n        }\n      } else if (field === \"confirmPassword\" && formData.password !== formData.confirmPassword) {\n        validationErrors[field] = \"Passwords do not match\";\n      }\n    });\n\n    return validationErrors;\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const validationErrors = validate();\n    if (Object.keys(validationErrors).length > 0) {\n      setErrors(validationErrors);\n      setSuccess(null); \n      return;\n    }\n\n    try {\n      setErrors({}); \n      if (isLogin) {\n        setLoading(true);\n        await login(formData);\n        syncUser();\n        router.push(\"/\");\n      } else {\n        setLoading(true);\n        const response = await signUp(formData);\n        // await userCartService.migrateCart(response?.data?.id);\n        setSuccess(response?.message || \"Registration successful! Please sign in.\");\n      }\n      setLoading(false);\n    } catch (error) {\n       setLoading(false);\n      setErrors({ form: error.message || \"An unexpected error occurred. Please try again.\" });\n      setSuccess(null); \n    }\n  };\n\n  const handleGoogleLogin = async () => {\n    try {\n      await signIn(\"google\");\n      await googleOAuth(session.user);\n      \n      syncUser();\n      router.push(\"/\");\n    } catch (error) {\n      console.error(\"Google login error:\", error);\n      setErrors({form: \"An unexpected error occurred. Please try again.\" });\n      setSuccess(null); // Clear success message if Google login fails\n    }\n  };\n\n  useEffect(() => {\n    if (status === \"authenticated\") {\n      syncUser();\n    }\n  }, [status]);\n\n  return (\n    <div className=\"flex justify-center items-center min-h-screen bg-gray-100\">\n      <div className=\"bg-white p-6 rounded-lg shadow-md w-full max-w-sm\">\n        <div className=\"flex justify-between mb-6\">\n          <button\n            className={`flex-1 text-center py-2 font-semibold ${isLogin ? \"text-orange-500 border-b-2 border-orange-500\" : \"text-gray-500\"}`}\n            onClick={() => setIsLogin(true)}\n          >\n            SIGN IN\n          </button>\n          <button\n            className={`flex-1 text-center py-2 font-semibold ${!isLogin ? \"text-orange-500 border-b-2 border-orange-500\" : \"text-gray-500\"}`}\n            onClick={() => setIsLogin(false)}\n          >\n            REGISTER\n          </button>\n        </div>\n\n        {/* Error Display */}\n        {errors.form && (\n          <div className=\"bg-red-100 text-red-700 p-3 rounded mb-4\">\n            {errors.form}\n          </div>\n        )}\n\n        {/* Success Display */}\n        {success && (\n          <div className=\"bg-green-100 text-green-700 p-3 rounded mb-4\">\n            {success}\n          </div>\n        )}\n\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\n          {!isLogin && (\n            <div>\n              <label htmlFor=\"username\" className=\"block text-sm font-medium text-gray-600\">\n                Username\n              </label>\n              <input\n                type=\"text\"\n                id=\"username\"\n                name=\"username\"\n                value={formData.username || \"\"}\n                onChange={(e) => handleChange(\"username\", e.target.value)}\n                className=\"border border-gray-300 rounded-lg p-2 w-full focus:ring-2 focus:ring-orange-500 focus:outline-none\"\n              />\n              {errors.username && <p className=\"text-sm text-red-500\">{errors.username}</p>}\n            </div>\n          )}\n          \n          <div>\n            <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-600\">\n              Email\n            </label>\n            <input\n              type=\"email\"\n              id=\"email\"\n              name=\"email\"\n              value={formData.email || \"\"}\n              onChange={(e) => handleChange(\"email\", e.target.value)}\n              className=\"border border-gray-300 rounded-lg p-2 w-full focus:ring-2 focus:ring-orange-500 focus:outline-none\"\n            />\n            {errors.email && <p className=\"text-sm text-red-500\">{errors.email}</p>}\n          </div>\n          \n          <div>\n            <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-600\">\n              Password\n            </label>\n            <input\n              type=\"password\"\n              id=\"password\"\n              name=\"password\"\n              value={formData.password || \"\"}\n              onChange={(e) => handleChange(\"password\", e.target.value)}\n              className=\"border border-gray-300 rounded-lg p-2 w-full focus:ring-2 focus:ring-orange-500 focus:outline-none\"\n            />\n            {errors.password && <p className=\"text-sm text-red-500\">{errors.password}</p>}\n          </div>\n          \n          {!isLogin && (\n            <div>\n              <label htmlFor=\"confirmPassword\" className=\"block text-sm font-medium text-gray-600\">\n                Confirm Password\n              </label>\n              <input\n                type=\"password\"\n                id=\"confirmPassword\"\n                name=\"confirmPassword\"\n                value={formData.confirmPassword || \"\"}\n                onChange={(e) => handleChange(\"confirmPassword\", e.target.value)}\n                className=\"border border-gray-300 rounded-lg p-2 w-full focus:ring-2 focus:ring-orange-500 focus:outline-none\"\n              />\n              {errors.confirmPassword && <p className=\"text-sm text-red-500\">{errors.confirmPassword}</p>}\n            </div>\n          )}\n\n          <button\n            type=\"submit\"\n            className=\"w-full mb-1 bg-gradient-to-r from-orange-500 to-red-500 text-white py-2 rounded-lg hover:from-orange-600 hover:to-red-600\"\n          >\n           {loading ? \"loading\" : (isLogin ? \"Sign in\" : \"Register\")}\n\n          </button>\n        </form>\n\n        {isLogin && (\n          <div className=\"mt-4\">\n            <Link href=\"user/forgetpwd\" className=\"text-sm text-gray-500 hover:text-orange-500\">\n              Forgot your password?\n            </Link>\n          </div>\n        )}\n\n        <div className=\"flex flex-col items-center w-full\">\n          <div className=\"text-gray-400 mt-1\">Quick Access With</div>\n          <button\n            className=\"flex flex-row justify-center mt-2\"\n            onClick={handleGoogleLogin}\n          >\n            <FaGoogle size={24} color=\"#FFC107\" />\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AuthForm;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 766, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}