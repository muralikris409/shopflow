"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[298],{3298:(e,t,a)=>{a.r(t),a.d(t,{default:()=>j});var s=a(5155),r=a(2115);let l=(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-6 text-gray-50",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 0 0-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 0 0-16.536-1.84M7.5 14.25 5.106 5.272M6 20.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Zm12.75 0a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"})});var n=a(8173),o=a.n(n),i=a(3391),c=a(6046),d=a(1889),u=a(2615);function x(){let[e,t]=(0,r.useState)(!1),a=(0,i.wA)(),l=(0,c.useRouter)(),n=u.useSession,x=(0,i.d4)(e=>e.session.user),h=(0,r.useCallback)(()=>{let e=localStorage.getItem("shopflow_session");if(e)try{let t=JSON.parse(e);a((0,d.Nq)(t))}catch(e){console.error("Failed to parse user data:",e)}},[a]);(0,r.useEffect)(()=>{h()},[h]);let p=async()=>{try{n&&await (0,u.signOut)({callbackUrl:"/"}),localStorage.removeItem("shopflow_session"),a((0,d.Nq)(null)),l.push("/")}catch(e){console.error("Sign-out error:",e)}};return(0,r.useEffect)(()=>{let e=e=>{let a=document.getElementById("dropdownAvatar");a&&!a.contains(e.target)&&t(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("span",{className:"text-gray-200 text-sm dark:text-white me-2",children:"Hello"}),(0,s.jsx)("button",{id:"dropdownUserAvatarButton",onClick:()=>{t(e=>!e)},className:"flex items-center text-sm bg-transparent focus:outline-none",type:"button","aria-expanded":e,"aria-haspopup":"true",children:(0,s.jsx)("span",{className:"font-medium text-white hover:text-orange-500",children:(null==x?void 0:x.name)||"Sign in"})}),e&&(0,s.jsx)("div",{id:"dropdownAvatar",className:"absolute right-0 z-10 bg-white rounded-lg shadow w-56 dark:bg-gray-700",children:(null==x?void 0:x.name)?(0,s.jsxs)("ul",{className:"text-sm text-gray-700 dark:text-gray-200",children:[(0,s.jsx)("li",{className:"px-4 py-3",children:(0,s.jsx)("button",{className:"w-full text-left block bg-orange-500 text-white font-medium py-2 px-3 rounded-lg hover:bg-orange-600",onClick:p,children:"Sign out"})}),(0,s.jsx)("li",{className:"px-4 py-2",children:(0,s.jsx)(o(),{href:"/orders",className:"block hover:text-orange-500 hover:underline",children:"My Orders"})}),(0,s.jsx)("li",{className:"px-4 py-2",children:(0,s.jsx)(o(),{href:"/cart",className:"block hover:text-orange-500 hover:underline",children:"My Cart"})}),(0,s.jsx)("li",{className:"px-4 py-2",children:(0,s.jsx)(o(),{href:"/wishlist",className:"block hover:text-orange-500 hover:underline",children:"My Wishlist"})})]}):(0,s.jsx)("div",{className:"p-4 text-center",children:(0,s.jsx)(o(),{href:"/auth",className:"block mb-2 text-orange-500 font-medium text-sm",children:"Sign in or New Customer start here.."})})})]})}var h=a(4186);let p=e=>{let{menuData:t=[]}=e,[a,l]=(0,r.useState)(null),[n,i]=(0,r.useState)(!1);return(0,s.jsx)("div",{className:"bg-gray-900 text-white relative h-10",children:(0,s.jsx)("div",{className:"flex items-center justify-between w-3/5 sm:px-3 lg:px-6  py-4",children:(0,s.jsxs)("div",{className:"relative",onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:[(0,s.jsxs)("button",{className:"flex items-center space-x-2 bg-gray-800 rounded-t-md px-1",children:[(0,s.jsx)("span",{className:"text-sm font-semibold uppercase",children:"Categories"}),(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),n&&(0,s.jsx)("div",{className:"absolute top-full left-0 bg-white text-black shadow-lg w-80 z-50",children:null==t?void 0:t.map((e,t)=>{var r;return(0,s.jsxs)("div",{onMouseEnter:()=>l(t),onMouseLeave:()=>l(null),className:"relative group",children:[(0,s.jsxs)("div",{className:"p-2 cursor-pointer text-sm font-semibold hover:text-gray-600",children:[e.name," "]}),a===t&&(0,s.jsx)("div",{className:"absolute top-0 left-full bg-white text-black shadow-lg w-72 z-50 opacity-0 group-hover:opacity-100 transition-opacity duration-300 ease-in-out",children:(0,s.jsx)("ul",{className:"p-4 space-y-2",children:null===(r=e.subCategories)||void 0===r?void 0:r.map(e=>(0,s.jsx)(o(),{href:"/products/subcategory/".concat(e.id),children:(0,s.jsx)("li",{className:"text-sm hover:text-gray-600 cursor-pointer",children:e.name},e.id)},e.id))})})]},e.id)})})]})})})};var m=a(279);function g(e){let{content:t=["Mobile","Laptop","Headphones","Smartwatch","Gaming","Camera"]}=e,a=(0,i.wA)();return(0,s.jsx)("div",{className:"flex space-x-2 mt-1 text-xs text-gray-400 cursor-pointer",children:t.map((e,t)=>(0,s.jsx)("span",{onClick:()=>a((0,h.YX)(e)),children:e},t))})}var v=a(1536);function f(){let e=(0,i.d4)(e=>e.generic.data.search),t=(0,i.wA)(),a=(0,c.useRouter)(),l=(0,r.useRef)(null);return(0,r.useEffect)(()=>{l.current.value=e},[e]),(0,s.jsxs)("div",{className:"flex-grow mx-3 px-10 ",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{ref:l,type:"text",placeholder:"Search for products...",className:"w-full p-2 text-sm text-gray-900 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500"}),(0,s.jsxs)("button",{onClick:()=>{let e=l.current.value;t((0,h.YX)(e)),a.push("/products")},type:"submit",className:"absolute right-0 top-0 h-full px-4 bg-orange-500 text-white rounded-r-lg hover:bg-orange-600",children:[(0,s.jsx)("span",{className:"sr-only",children:"Search"}),(0,s.jsx)(v.KSO,{})]})]}),(0,s.jsx)(g,{})]})}function j(){var e;let[t,a]=(0,r.useState)(!1),n=(0,i.d4)(e=>e.session.user),c=(0,i.wA)(),{data:d,loading:u,error:h}=(0,i.d4)(e=>e.api);(0,r.useEffect)(()=>{c((0,m.Fd)("/products/category"))},[c]);let g=(0,i.d4)(e=>e.api);return(0,s.jsxs)("header",{children:[(0,s.jsxs)("nav",{className:"bg-gray-900 px-4 lg:px-6 py-2 ",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mx-auto max-w-screen-xl text-white",children:[(0,s.jsx)(o(),{href:"/",className:"flex",children:(0,s.jsxs)("span",{className:"text-2xl font-bold",children:[(0,s.jsx)("span",{className:"text-white",children:"Shop"}),(0,s.jsx)("span",{className:"text-orange-500",children:"Flow"}),(0,s.jsx)("br",{}),(0,s.jsx)("span",{className:"  block text-xs font-light",children:"Global leading online shop"})]})}),(0,s.jsx)(f,{}),(0,s.jsxs)("div",{className:"hidden lg:flex items-center space-x-6",children:[(0,s.jsxs)(o(),{href:"#",className:"text-sm text-gray-300",children:["Download the ",(0,s.jsx)("br",{}),(0,s.jsx)("span",{className:"text-white hover:text-orange-500",children:"ShopFlow App"})]}),(0,s.jsx)(x,{}),(0,s.jsx)("div",{children:(0,s.jsxs)(o(),{href:"/cart",className:"relative flex items-center justify-center text-gray-300 hover:text-white",children:[l,n&&(0,s.jsx)("span",{className:"absolute top-0 right-0 inline-flex items-center justify-center w-4 h-4 text-xs font-bold leading-none text-white bg-orange-500 rounded-full transform translate-x-2 -translate-y-2"})]})})]}),(0,s.jsxs)("button",{className:"lg:hidden text-gray-300 hover:text-white",onClick:()=>{a(e=>!e)},children:[(0,s.jsx)("span",{className:"sr-only",children:"Toggle navigation"}),"â˜°"]})]}),t&&(0,s.jsx)("div",{className:"lg:hidden bg-gray-800 px-4 py-2 space-y-4",children:(0,s.jsx)(x,{})})]}),(0,s.jsx)(p,{menuData:null==g?void 0:null===(e=g.data)||void 0===e?void 0:e.data})]})}},279:(e,t,a)=>{a.d(t,{Ay:()=>d,Fd:()=>c});var s=a(8943),r=a(6301);let l=(0,s.Z0)({name:"api",initialState:{data:null,loading:!1,error:null},reducers:{fetchDataStart(e){e.loading=!0,e.error=null},fetchDataSuccess(e,t){e.loading=!1,e.data=t.payload},fetchDataFailure(e,t){e.loading=!1,e.error=t.payload}}}),{fetchDataStart:n,fetchDataSuccess:o,fetchDataFailure:i}=l.actions,c=e=>async t=>{t(n());try{let a=await r.S.get(e);t(o(a.data))}catch(e){var a;t(i((null===(a=e.response)||void 0===a?void 0:a.data)||e.message))}},d=l.reducer},4186:(e,t,a)=>{a.d(t,{Ay:()=>c,YX:()=>n,_9:()=>r,yL:()=>l});let s=(0,a(8943).Z0)({name:"Filter",initialState:{data:{filter:null,search:null,language:null,country:null,signature:null}},reducers:{updateFilter(e,t){e.data.filter=t.payload},resetFilter(e){e.data={filter:null}},updateSearch(e,t){e.data.search=t.payload},updateCountry(e,t){e.data.country=t.payload},updateLanguage(e,t){e.data.language=t.payload}}}),{updateFilter:r,resetFilter:l,updateSearch:n,updateCountry:o,updateLanguage:i}=s.actions,c=s.reducer},1889:(e,t,a)=>{a.d(t,{Ay:()=>n,Nq:()=>r});let s=(0,a(8943).Z0)({name:"session",initialState:{user:null,token:null},reducers:{setSession:(e,t)=>{console.log(t.payload),e.user=t.payload.user,e.token=t.payload.token},clearSession:e=>{e.user=null,e.token=null}}}),{setSession:r,clearSession:l}=s.actions,n=s.reducer},6301:(e,t,a)=>{a.d(t,{S:()=>s});let s=a(2651).A.create({baseURL:"http://192.168.0.114:5000"})}}]);