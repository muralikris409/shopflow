{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/murali/Documents/Cloning%20task/shopflow/src/app/service/UserService.js"],"sourcesContent":["import { axiosInstance as axios, axiosInstance } from \"../api/axios\";\n\nexport async function login(formdata) {\n    const { email, password } = formdata;\n  \n    try {\n        const response = await axios.post(\"user/login\", {\n            email: email,\n            password: password\n        });\n\n        const { token, data } = response.data;\n\n        localStorage.setItem(\"shopflow_session\", JSON.stringify({ user: data, token }));\n        return { data, token };\n    } catch (error) {\n        if (error.response) {\n            throw new Error(error.response.data.message || \"An error occurred during login.\");\n        } else if (error.request) {\n            throw new Error(\"Network error: No response received.\");\n        } else {\n            throw new Error(error.message || \"An unknown error occurred during login.\");\n        }\n    }\n}\n\nexport async function signUp(formdata) {\n    const { username: name, email, password } = formdata;\n\n    try {\n        const response = await axios.post(\"user/signup\", {\n            name,\n            email,\n            password\n        }, {\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        });\n\n        return response.data;\n    } catch (error) {\n        if (error.response) {\n            throw new Error(error.response.data.message || \"An error occurred during sign-up.\");\n        } else if (error.request) {\n            throw new Error(\"Network error: No response received.\");\n        } else {\n            throw new Error(error.message || \"An unknown error occurred during sign-up.\");\n        }\n    }\n}\n\nexport async function googleOAuth(data) {\n    try {\n        const response = await axios.post(\"user/oauth\", {\n            name: data.name,\n            email: data.email,\n            image: data.image,\n            id: data.id\n        });\n\n        const { token, data: user } = response.data;\n\n        localStorage.setItem(\"shopflow_session\", JSON.stringify({ user: user, token }));\n        return response.data;\n    } catch (error) {\n        if (error.response) {\n            throw new Error(error.response.data.message || \"An error occurred during Google OAuth.\");\n        } else if (error.request) {\n            throw new Error(\"Network error: No response received.\");\n        } else {\n            throw new Error(error.message || \"An unknown error occurred during Google OAuth.\");\n        }\n    }\n}\n\nexport async function forgotPassword(email) {\n  try {\n    const response = await axiosInstance.post(`user/forgotPassword?email=${email}`);\n    console.log(response)\n    if (response.status === 200) {\n      return {\n        ok: true,\n        data: response.data,\n      };\n    }\n    return {\n      ok: false,\n      message: response.data?.message || \"Something went wrong.\",\n    };\n  } catch (err) {\n    console.log(err)\n    throw err;\n  }\n}\nexport async function resetPassword(token,password){\n    try{\n    const response=await axiosInstance.post(`user/resetPassword?token=${token}&newPassword=${password}`);\n        return response;\n    console.log(response);\n   \n}\ncatch(err){\n    console.log(err);\n}\n}\nexport async function getProfileInfo(token,userId){\n    try{\n        console.log(\"test\")\n    const response=await axiosInstance.post(`user/userProfileInfo?userId=${userId}`,{},{\n        headers:{\n            Authorization:`Bearer ${token}`\n        }\n    });\n    console.log(response);\n        return response;\n    \n   \n}\ncatch(err){\n    console.log(err);\n}\n}\nexport async function updateProfileInfo(token,userId,data){\n    try{\n        console.log(\"test\")\n    const response=await axiosInstance.post(`user/updateUserProfile?userId=${userId}\n        &data=${data}`,{},{\n        headers:{\n            Authorization:`Bearer ${token}`\n        }\n    });\n    console.log(response);\n        return response;\n    \n   \n}\ncatch(err){\n    console.log(err);\n    \n}\n}\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 151, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 157, "column": 0}, "map": {"version":3,"sources":["file:///home/murali/Documents/Cloning%20task/shopflow/src/app/user/profile/page.js"],"sourcesContent":["\"use client\";\nimport { getProfileInfo } from \"@/app/service/UserService\";\nimport Link from \"next/link\";\nimport React, { useState, useEffect } from \"react\";\nimport { useSelector } from \"react-redux\";\n\nconst UserProfile = () => {\n  const [user, setUser] = useState({\n    name: \"\",\n    email: \"\",\n    phone: \"\",\n    profileImage: \"\",\n  });\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  const userId = useSelector((state) => state?.session?.user?.id);\n  const token = useSelector((state) => state?.session?.token);\n\n  useEffect(() => {\n    const fetchProfileInfo = async () => {\n      try {\n        setLoading(true);\n        setError(null);\n        const response = await getProfileInfo(token, userId); \n        setUser(response.data.data);\n      } catch (err) {\n        setError(\"Failed to load profile data.\");\n        console.error(err);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    if (userId && token) {\n      fetchProfileInfo();\n    }\n    \n  }, [userId, token]); \n\n  if (loading) {\n    return <div className=\"text-center\">Loading...</div>; // Display loading message or spinner\n  }\n\n  if (error) {\n    return <div className=\"text-center text-red-500\">{error}</div>; // Display error message\n  }\n\n  return (\n    <div className=\"max-w-4xl mx-auto p-6 bg-white rounded-lg shadow-md\">\n      <div className=\"flex items-center mb-6\">\n        <div className=\"w-16 h-16 rounded-full overflow-hidden bg-gray-200 flex items-center justify-center\">\n          {user.profileImage ? (\n            <img src={user?.profile_pic} alt=\"Profile\" className=\"w-full h-full object-cover\" />\n          ) : (\n            <span className=\"text-3xl font-bold text-gray-500\">{user?.name?.charAt(0)}</span>\n          )}\n        </div>\n        <div className=\"ml-4\">\n          <h2 className=\"text-2xl font-semibold text-gray-800\">{user?.name}</h2>\n          <p className=\"text-gray-600\">{user?.email}</p>\n          <p className=\"text-gray-600\">{user?.phone}</p>\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-2 gap-4\">\n        <div className=\"bg-gray-100 p-4 rounded-lg shadow\">\n          <h3 className=\"text-lg font-semibold text-gray-800\">Orders</h3>\n          <p className=\"text-gray-600\">View your past orders</p>\n          <Link href=\"/orders\" className=\"mt-2 text-blue-500 hover:underline\">View Orders</Link>\n        </div>\n        <div className=\"bg-gray-100 p-4 rounded-lg shadow\">\n          <h3 className=\"text-lg font-semibold text-gray-800\">Wishlist</h3>\n          <p className=\"text-gray-600\">Check your saved items</p>\n          <Link href=\"/wishlist\" className=\"mt-2 text-blue-500 hover:underline\">View Wishlist</Link>\n        </div>\n        <div className=\"bg-gray-100 p-4 rounded-lg shadow\">\n          <h3 className=\"text-lg font-semibold text-gray-800\">Edit Profile</h3>\n          <p className=\"text-gray-600\">Update your information</p>\n          <button className=\"mt-2 text-blue-500 hover:underline\">Edit Profile</button>\n        </div>\n        <div className=\"bg-gray-100 p-4 rounded-lg shadow\">\n          <h3 className=\"text-lg font-semibold text-gray-800\">Address</h3>\n          <p className=\"text-gray-600\">Manage your addresses</p>\n          <button className=\"mt-2 text-blue-500 hover:underline\">Manage Address</button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default UserProfile;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 464, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}