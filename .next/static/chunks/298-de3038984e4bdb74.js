"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[298],{3298:(e,a,t)=>{t.r(a),t.d(a,{default:()=>y});var s=t(5155),l=t(2115);let r=(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-6 text-gray-50",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 0 0-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 0 0-16.536-1.84M7.5 14.25 5.106 5.272M6 20.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Zm12.75 0a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"})});var n=t(8173),o=t.n(n),i=t(3391),c=t(6046),d=t(1889),u=t(2615);function x(){let[e,a]=(0,l.useState)(!1),t=(0,i.wA)(),r=(0,c.useRouter)(),n=u.useSession,x=(0,i.d4)(e=>e.session.user),h=(0,l.useCallback)(()=>{let e=localStorage.getItem("shopflow_session");if(e)try{let a=JSON.parse(e);t((0,d.Nq)(a))}catch(e){console.error("Failed to parse user data:",e)}},[t]);(0,l.useEffect)(()=>{h()},[h]);let g=async()=>{try{n&&await signOut({callbackUrl:"/"}),localStorage.removeItem("shopflow_session"),t((0,d.Nq)(null)),r.push("/")}catch(e){console.error("Sign-out error:",e)}};return(0,l.useEffect)(()=>{let e=e=>{let t=document.getElementById("dropdownAvatar");t&&!t.contains(e.target)&&a(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("span",{className:"text-gray-200 text-sm dark:text-white me-2",children:"Hello"}),(0,s.jsx)("button",{id:"dropdownUserAvatarButton",onClick:()=>{a(e=>!e)},className:"flex items-center text-sm bg-transparent focus:outline-none",type:"button","aria-expanded":e,"aria-haspopup":"true",children:(0,s.jsx)("span",{className:"font-medium text-white hover:text-orange-500",children:(null==x?void 0:x.name)||"Sign in"})}),e&&(0,s.jsx)("div",{id:"dropdownAvatar",className:"absolute right-0 z-10 bg-white rounded-lg shadow w-56 dark:bg-gray-700",children:(null==x?void 0:x.name)?(0,s.jsxs)("ul",{className:"text-sm text-gray-700 dark:text-gray-200",children:[(0,s.jsx)("li",{className:"px-4 py-3",children:(0,s.jsx)("button",{className:"w-full text-left block bg-orange-500 text-white font-medium py-2 px-3 rounded-lg hover:bg-orange-600",onClick:g,children:"Sign out"})}),(0,s.jsx)("li",{className:"px-4 py-2",children:(0,s.jsx)(o(),{href:"/account",className:"block hover:text-orange-500 hover:underline",children:"My Account"})}),(0,s.jsx)("li",{className:"px-4 py-2",children:(0,s.jsx)(o(),{href:"/orders",className:"block hover:text-orange-500 hover:underline",children:"My Orders"})}),(0,s.jsx)("li",{className:"px-4 py-2",children:(0,s.jsx)(o(),{href:"/wishlist",className:"block hover:text-orange-500 hover:underline",children:"My Wishlist"})}),(0,s.jsx)("li",{className:"px-4 py-2",children:(0,s.jsx)(o(),{href:"/coupons",className:"block hover:text-orange-500 hover:underline",children:"My Coupons"})}),(0,s.jsx)("li",{className:"px-4 py-2",children:(0,s.jsx)(o(),{href:"/help",className:"block hover:text-orange-500 hover:underline",children:"Help Center"})})]}):(0,s.jsx)("div",{className:"p-4 text-center",children:(0,s.jsx)(o(),{href:"/auth",className:"block mb-2 text-orange-500 font-medium text-sm",children:"Sign in or New Customer start here.."})})})]})}var h=t(4186);function g(){let e=(0,i.wA)(),{country:a,language:t}=(0,i.d4)(e=>e.generic.data),r="India",n="English (India)",[o,c]=(0,l.useState)(!1),[d,u]=(0,l.useState)(a||r),[x,g]=(0,l.useState)(t||n),[m,p]=(0,l.useState)("USD US$");console.log(a+"   "+t);let v=()=>{c(!1)};return(0,l.useEffect)(()=>{let a=localStorage.getItem("country")||r,t=localStorage.getItem("language")||n;u(a),g(t),e((0,h.MA)(a)),e((0,h.Cf)(t))},[e]),(0,s.jsxs)("div",{className:"relative",onMouseLeave:v,children:[(0,s.jsx)("span",{className:"text-gray-300 text-sm me-2",children:"Ship to"}),(0,s.jsx)("button",{id:"dropdownUserAvatarButton",onClick:()=>{c(!o)},className:"flex items-center text-sm bg-transparent focus:outline-none",type:"button",children:(0,s.jsxs)("span",{className:"font-medium text-white hover:text-orange-500",children:[d,"/",x]})}),o&&(0,s.jsxs)("div",{id:"dropdownAvatar",className:"absolute right-0 z-10 bg-white rounded-lg shadow w-80 p-4 dark:bg-gray-700",children:[(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Shipping to:"}),(0,s.jsxs)("select",{value:d,onChange:a=>{let t=a.target.value;u(t),e((0,h.MA)(t)),localStorage.setItem("country",t)},className:"block w-full text-gray-600 p-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500 dark:bg-gray-800 dark:border-gray-600 dark:text-white",children:[(0,s.jsx)("option",{value:"India",children:"India"}),(0,s.jsx)("option",{value:"United States",children:"United States"}),(0,s.jsx)("option",{value:"United Kingdom",children:"United Kingdom"}),(0,s.jsx)("option",{value:"Australia",children:"Australia"})]})]}),(0,s.jsxs)("div",{className:"mb-4 z-10",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Language:"}),(0,s.jsxs)("select",{value:x,onChange:a=>{let t=a.target.value;g(t),e((0,h.Cf)(t)),localStorage.setItem("language",t)},className:"block w-full p-2 border border-gray-300 rounded-lg focus:ring-orange-500 text-gray-600 focus:border-orange-500 dark:bg-gray-800 dark:border-gray-600 dark:text-white",children:[(0,s.jsx)("option",{value:"English (India)",children:"English (India)"}),(0,s.jsx)("option",{value:"English (US)",children:"English (US)"}),(0,s.jsx)("option",{value:"English (UK)",children:"English (UK)"}),(0,s.jsx)("option",{value:"Hindi",children:"Hindi"})]})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Currency:"}),(0,s.jsxs)("select",{value:m,onChange:e=>p(e.target.value),className:"block w-full p-2 border text-gray-600 border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500 dark:bg-gray-800 dark:border-gray-600 dark:text-white",children:[(0,s.jsx)("option",{value:"USD US$",children:"USD US$"}),(0,s.jsx)("option",{value:"INR ₹",children:"INR ₹"}),(0,s.jsx)("option",{value:"EUR €",children:"EUR €"}),(0,s.jsx)("option",{value:"GBP \xa3",children:"GBP \xa3"})]})]}),(0,s.jsx)("button",{onClick:v,className:"block w-full bg-orange-900 text-white font-medium py-2 rounded-lg hover:bg-orange-800",children:"Close"})]})]})}let m=e=>{let{menuData:a=[]}=e,[t,r]=(0,l.useState)(null),[n,i]=(0,l.useState)(!1);return(0,s.jsx)("div",{className:"bg-gray-900 text-white relative h-10",children:(0,s.jsxs)("div",{className:"flex items-center justify-between w-3/5 sm:px-3 lg:px-6  py-4",children:[(0,s.jsxs)("div",{className:"relative",onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:[(0,s.jsxs)("button",{className:"flex items-center space-x-2 bg-gray-800 rounded-t-md px-1",children:[(0,s.jsx)("span",{className:"text-sm font-semibold uppercase",children:"Categories"}),(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),n&&(0,s.jsx)("div",{className:"absolute top-full left-0 bg-white text-black shadow-lg w-80 z-50",children:null==a?void 0:a.map((e,a)=>{var l;return(0,s.jsxs)("div",{onMouseEnter:()=>r(a),onMouseLeave:()=>r(null),className:"relative group",children:[(0,s.jsxs)("div",{className:"p-2 cursor-pointer text-sm font-semibold hover:text-gray-600",children:[e.name," "]}),t===a&&(0,s.jsx)("div",{className:"absolute top-0 left-full bg-white text-black shadow-lg w-72 z-50 opacity-0 group-hover:opacity-100 transition-opacity duration-300 ease-in-out",children:(0,s.jsx)("ul",{className:"p-4 space-y-2",children:null===(l=e.subCategories)||void 0===l?void 0:l.map(e=>(0,s.jsx)(o(),{href:"/products/subcategory/".concat(e.id),children:(0,s.jsx)("li",{className:"text-sm hover:text-gray-600 cursor-pointer",children:e.name},e.id)},e.id))})})]},e.id)})})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4  text-sm",children:[(0,s.jsx)("button",{className:"hover:text-yellow-500",children:"Flash Deals"}),(0,s.jsx)("button",{className:"hover:text-yellow-500",children:"Discover New"}),(0,s.jsx)("button",{className:"hover:text-yellow-500",children:"Clearance Sale"}),(0,s.jsx)("button",{className:"hover:text-yellow-500",children:"Top Sellers"})]})]})})};var p=t(279);function v(e){let{content:a=["rc car","mobile "]}=e;return(0,s.jsx)("div",{className:"flex space-x-2 mt-1 text-sm text-gray-400",children:a.map((e,a)=>(0,s.jsx)("span",{children:e},a))})}var j=t(1536);function b(){let e=(0,i.d4)(e=>e.generic.data.search),a=(0,i.wA)(),t=(0,l.useRef)(null);return(0,s.jsxs)("div",{className:"flex-grow mx-3 p-1",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{ref:t,type:"text",placeholder:"Search for products...",className:"w-full p-2 text-sm text-gray-900 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500"}),(0,s.jsxs)("button",{onClick:()=>{a((0,h.YX)(t.current.value)),console.log(e)},type:"submit",className:"absolute right-0 top-0 h-full px-4 bg-orange-500 text-white rounded-r-lg hover:bg-orange-600",children:[(0,s.jsx)("span",{className:"sr-only",children:"Search"}),(0,s.jsx)(j.KSO,{})]})]}),(0,s.jsx)(v,{})]})}function y(){var e;let[a,t]=(0,l.useState)(!1),n=(0,i.wA)(),{data:c,loading:d,error:u}=(0,i.d4)(e=>e.api);(0,l.useEffect)(()=>{n((0,p.Fd)("/products/category"))},[n]);let h=(0,i.d4)(e=>e.api);return(0,s.jsxs)("header",{children:[(0,s.jsxs)("nav",{className:"bg-gray-900 px-4 lg:px-6 py-2 ",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mx-auto max-w-screen-xl text-white",children:[(0,s.jsx)(o(),{href:"/",className:"flex",children:(0,s.jsxs)("span",{className:"text-2xl font-bold",children:[(0,s.jsx)("span",{className:"text-white",children:"Shop"}),(0,s.jsx)("span",{className:"text-orange-500",children:"Flow"}),(0,s.jsx)("br",{}),(0,s.jsx)("span",{className:"  block text-xs font-light",children:"Global leading online shop"})]})}),(0,s.jsx)(b,{}),(0,s.jsxs)("div",{className:"hidden lg:flex items-center space-x-6",children:[(0,s.jsxs)(o(),{href:"#",className:"text-sm text-gray-300",children:["Download the ",(0,s.jsx)("br",{}),(0,s.jsx)("span",{className:"text-white hover:text-orange-500",children:"ShopFlow App"})]}),(0,s.jsx)(g,{}),(0,s.jsx)(x,{}),(0,s.jsx)("div",{children:(0,s.jsxs)(o(),{href:"/cart",className:"relative flex items-center justify-center text-gray-300 hover:text-white",children:[r,(0,s.jsx)("span",{className:"absolute top-0 right-0 inline-flex items-center justify-center w-4 h-4 text-xs font-bold leading-none text-white bg-orange-500 rounded-full transform translate-x-2 -translate-y-2",children:"0"})]})})]}),(0,s.jsxs)("button",{className:"lg:hidden text-gray-300 hover:text-white",onClick:()=>{t(e=>!e)},children:[(0,s.jsx)("span",{className:"sr-only",children:"Toggle navigation"}),"☰"]})]}),a&&(0,s.jsxs)("div",{className:"lg:hidden bg-gray-800 px-4 py-2 space-y-4",children:[(0,s.jsx)(g,{}),(0,s.jsx)(x,{})]})]}),(0,s.jsx)(m,{menuData:null==h?void 0:null===(e=h.data)||void 0===e?void 0:e.data})]})}},279:(e,a,t)=>{t.d(a,{Ay:()=>d,Fd:()=>c});var s=t(8943),l=t(6301);let r=(0,s.Z0)({name:"api",initialState:{data:null,loading:!1,error:null},reducers:{fetchDataStart(e){e.loading=!0,e.error=null},fetchDataSuccess(e,a){e.loading=!1,e.data=a.payload},fetchDataFailure(e,a){e.loading=!1,e.error=a.payload}}}),{fetchDataStart:n,fetchDataSuccess:o,fetchDataFailure:i}=r.actions,c=e=>async a=>{a(n());try{let t=await l.S.get(e);a(o(t.data))}catch(e){var t;a(i((null===(t=e.response)||void 0===t?void 0:t.data)||e.message))}},d=r.reducer},4186:(e,a,t)=>{t.d(a,{Ay:()=>c,Cf:()=>i,MA:()=>o,YX:()=>n,_9:()=>l,yL:()=>r});let s=(0,t(8943).Z0)({name:"Filter",initialState:{data:{filter:null,search:null,language:null,country:null}},reducers:{updateFilter(e,a){e.data.filter=a.payload},resetFilter(e){e.data={filter:null}},updateSearch(e,a){e.data.search=a.payload},updateCountry(e,a){e.data.country=a.payload},updateLanguage(e,a){e.data.language=a.payload}}}),{updateFilter:l,resetFilter:r,updateSearch:n,updateCountry:o,updateLanguage:i}=s.actions,c=s.reducer},1889:(e,a,t)=>{t.d(a,{Ay:()=>n,Nq:()=>l});let s=(0,t(8943).Z0)({name:"session",initialState:{user:null,token:null},reducers:{setSession:(e,a)=>{console.log(a.payload),e.user=a.payload.user,e.token=a.payload.token},clearSession:e=>{e.user=null,e.token=null}}}),{setSession:l,clearSession:r}=s.actions,n=s.reducer},6301:(e,a,t)=>{t.d(a,{S:()=>s});let s=t(2651).A.create({baseURL:"http://localhost:5000"})}}]);