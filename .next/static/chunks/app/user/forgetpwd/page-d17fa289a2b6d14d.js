(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[247],{8359:(e,t,r)=>{Promise.resolve().then(r.bind(r,6738))},6301:(e,t,r)=>{"use strict";r.d(t,{S:()=>o});let o=r(2651).A.create({baseURL:"https://shopflow-1-ugli.onrender.com"})},1086:(e,t,r)=>{"use strict";r.d(t,{Ad:()=>u,BD:()=>l,E1:()=>g,Hh:()=>n,RW:()=>d,d6:()=>s,iD:()=>a,qk:()=>i,xw:()=>c});var o=r(6301);async function a(e){let{email:t,password:r}=e;try{let{token:e,data:a}=(await o.S.post("user/login",{email:t,password:r})).data;return localStorage.setItem("shopflow_session",JSON.stringify({user:a,token:e})),{data:a,token:e}}catch(e){throw Error(e.response.data.message||"An error occurred during login.")}}async function s(e){try{let t=await o.S.post("user/oauth",{name:e.name,email:e.email,image:e.image,id:e.id}),{token:r,data:a}=t.data;return localStorage.setItem("shopflow_session",JSON.stringify({user:a,token:r})),t.data}catch(e){throw Error(e.response.data.message||"An error occurred during Google OAuth.")}}async function n(e){let{username:t,email:r,password:a}=e;try{return(await o.S.post("user/signup",{name:t,email:r,password:a},{headers:{"Content-Type":"application/json"}})).data}catch(e){throw Error(e.response.data.message||"An error occurred during sign-up.")}}async function l(e){try{var t;let r=await o.S.post("user/forgotPassword?email=".concat(e));if(console.log(r),200===r.status)return{ok:!0,data:r.data};return{ok:!1,message:(null===(t=r.data)||void 0===t?void 0:t.message)||"Something went wrong."}}catch(e){throw console.log(e),e}}async function c(e,t){try{return await o.S.post("user/resetPassword?token=".concat(e,"&newPassword=").concat(t))}catch(e){console.log(e)}}async function i(e,t){try{console.log("test");let r=await o.S.post("user/userProfileInfo?userId=".concat(t),{},{headers:{Authorization:"Bearer ".concat(e)}});return console.log(r),r}catch(e){console.log(e)}}async function d(e,t,r){try{console.log("test");let a=await o.S.post("user/updateUserProfile?userId=".concat(t),r,{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"multipart/form-data"}});return console.log(a),a}catch(e){console.log(e)}}async function u(e,t){try{console.log("token",e);let r=await o.S.post("user/getAllAddress?userId=".concat(t),{},{headers:{Authorization:"Bearer ".concat(e)}});return console.log(r),r.data}catch(e){return console.error("Error fetching addresses:",e),{error:e.message||"Something went wrong!"}}}let g=async(e,t,r)=>{try{let{street:a,city:s,state:n,country:l,zip:c,isPrimary:i}=r;return(await o.S.post("user/addAddress",{},{params:{userId:t,street:a,city:s,state:n,country:l,zip:c,isPrimary:i},headers:{Authorization:"Bearer ".concat(e)}})).data}catch(e){var a,s;return console.error("Error adding address:",e),{error:(null===(s=e.response)||void 0===s?void 0:null===(a=s.data)||void 0===a?void 0:a.message)||"Something went wrong!"}}}},6738:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var o=r(5155),a=r(1086),s=r(2115);let n=()=>{let[e,t]=(0,s.useState)(""),[r,n]=(0,s.useState)(""),l=async()=>{if(e){if(/\S+@\S+\.\S+/.test(e)){n("");try{await (0,a.BD)(e)}catch(e){var t,r,o,s;console.log(null==e?void 0:null===(r=e.response)||void 0===r?void 0:null===(t=r.data)||void 0===t?void 0:t.message),n((null==e?void 0:null===(s=e.response)||void 0===s?void 0:null===(o=s.data)||void 0===o?void 0:o.message)||"Something went wrong")}}else n("Please enter a valid email address.")}else n("Email is required.")};return(0,o.jsxs)("div",{className:"w-full max-w-md mx-auto p-6 bg-white rounded-lg shadow-md m-10",children:[(0,o.jsx)("h2",{className:"text-2xl font-bold text-gray-800 text-center",children:"Forgot Password"}),(0,o.jsx)("p",{className:"text-sm text-gray-600 text-center mt-2",children:"Enter your email address to receive a reset link."}),(0,o.jsxs)("div",{className:"mt-4",children:[(0,o.jsx)("input",{type:"email",className:"w-full px-4 py-2 border ".concat(r?"border-red-500":"border-gray-300"," rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"),placeholder:"Enter your email",value:e,onChange:e=>t(e.target.value)}),r&&(0,o.jsx)("p",{className:"text-red-500 text-sm mt-1",children:r})]}),(0,o.jsx)("button",{onClick:l,className:"w-full mt-4 bg-orange-500 text-white py-2 rounded-lg hover:bg-blue-600 transition-colors",children:"Submit"})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[651,441,517,358],()=>t(8359)),_N_E=e.O()}]);