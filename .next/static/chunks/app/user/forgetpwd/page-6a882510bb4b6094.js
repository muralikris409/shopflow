(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[247],{8359:(e,r,t)=>{Promise.resolve().then(t.bind(t,6738))},6301:(e,r,t)=>{"use strict";t.d(r,{S:()=>o});let o=t(2651).A.create({baseURL:"http://192.168.0.114:5000"})},1086:(e,r,t)=>{"use strict";t.d(r,{BD:()=>i,Hh:()=>a,d6:()=>n,iD:()=>s});var o=t(6301);async function s(e){let{email:r,password:t}=e;try{let{token:e,data:s}=(await o.S.post("user/login",{email:r,password:t})).data;return localStorage.setItem("shopflow_session",JSON.stringify({user:s,token:e})),{data:s,token:e}}catch(e){if(e.response)throw Error(e.response.data.message||"An error occurred during login.");if(e.request)throw Error("Network error: No response received.");throw Error(e.message||"An unknown error occurred during login.")}}async function a(e){let{username:r,email:t,password:s}=e;try{return(await o.S.post("user/signup",{name:r,email:t,password:s},{headers:{"Content-Type":"application/json"}})).data}catch(e){if(e.response)throw Error(e.response.data.message||"An error occurred during sign-up.");if(e.request)throw Error("Network error: No response received.");throw Error(e.message||"An unknown error occurred during sign-up.")}}async function n(e){try{let r=await o.S.post("user/oauth",{name:e.name,email:e.email,image:e.image,id:e.id}),{token:t,data:s}=r.data;return localStorage.setItem("shopflow_session",JSON.stringify({user:s,token:t})),r.data}catch(e){if(e.response)throw Error(e.response.data.message||"An error occurred during Google OAuth.");if(e.request)throw Error("Network error: No response received.");throw Error(e.message||"An unknown error occurred during Google OAuth.")}}async function i(e){try{var r;let t=await o.S.post("user/forgotPassword?email=".concat(e));if(console.log(t),200===t.status)return{ok:!0,data:t.data};return{ok:!1,message:(null===(r=t.data)||void 0===r?void 0:r.message)||"Something went wrong."}}catch(e){throw console.log(e),e}}},6738:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>n});var o=t(5155),s=t(1086),a=t(2115);let n=()=>{let[e,r]=(0,a.useState)(""),[t,n]=(0,a.useState)(""),i=async()=>{if(e){if(/\S+@\S+\.\S+/.test(e)){n("");try{await (0,s.BD)(e)}catch(e){var r,t,o,a;console.log(null==e?void 0:null===(t=e.response)||void 0===t?void 0:null===(r=t.data)||void 0===r?void 0:r.message),n((null==e?void 0:null===(a=e.response)||void 0===a?void 0:null===(o=a.data)||void 0===o?void 0:o.message)||"Something went wrong")}}else n("Please enter a valid email address.")}else n("Email is required.")};return(0,o.jsxs)("div",{className:"w-full max-w-md mx-auto p-6 bg-white rounded-lg shadow-md",children:[(0,o.jsx)("h2",{className:"text-2xl font-bold text-gray-800 text-center",children:"Forgot Password"}),(0,o.jsx)("p",{className:"text-sm text-gray-600 text-center mt-2",children:"Enter your email address to receive a reset link."}),(0,o.jsxs)("div",{className:"mt-4",children:[(0,o.jsx)("input",{type:"email",className:"w-full px-4 py-2 border ".concat(t?"border-red-500":"border-gray-300"," rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"),placeholder:"Enter your email",value:e,onChange:e=>r(e.target.value)}),t&&(0,o.jsx)("p",{className:"text-red-500 text-sm mt-1",children:t})]}),(0,o.jsx)("button",{onClick:i,className:"w-full mt-4 bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600 transition-colors",children:"Submit"})]})}}},e=>{var r=r=>e(e.s=r);e.O(0,[651,441,517,358],()=>r(8359)),_N_E=e.O()}]);