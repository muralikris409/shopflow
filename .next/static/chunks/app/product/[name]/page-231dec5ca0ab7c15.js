(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[54],{8296:(e,t,r)=>{Promise.resolve().then(r.bind(r,8784))},6046:(e,t,r)=>{"use strict";var a=r(6658);r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},6301:(e,t,r)=>{"use strict";r.d(t,{S:()=>a});let a=r(2651).A.create({baseURL:"http://localhost:5000"})},8784:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var a=r(5155),s=r(2115),o=r(6046),l=r(5610),n=r(9689),c=r(3391),i=r(5408);let d=e=>{let{product:t={}}=e,r=(0,c.d4)(e=>e.session.user),{name:s="Unknown Product",description:o="No description available.",actualPrice:l=0,offerPrice:d=0,discountPercentage:u=0,rating:h=0,stock:m=0}=t,g=new i.A;return(0,a.jsx)("section",{className:"py-12 sm:py-16",children:(0,a.jsxs)("div",{className:"container mx-auto px-4",children:[(0,a.jsx)("nav",{className:"flex",children:(0,a.jsxs)("ol",{role:"list",className:"flex items-center",children:[(0,a.jsx)("li",{className:"text-left",children:(0,a.jsx)("div",{className:"-m-1",children:(0,a.jsx)("a",{href:"#",className:"rounded-md p-1 text-sm font-medium text-gray-600 focus:text-gray-900 focus:shadow hover:text-gray-800",children:" Home "})})}),(0,a.jsx)("li",{className:"text-left",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"mx-2 text-gray-400",children:"/"}),(0,a.jsx)("div",{className:"-m-1",children:(0,a.jsx)("a",{href:"#",className:"rounded-md p-1 text-sm font-medium text-gray-600 focus:text-gray-900 focus:shadow hover:text-gray-800",children:" Products "})})]})})]})}),(0,a.jsxs)("div",{className:"lg:col-gap-12 xl:col-gap-16 mt-8 grid grid-cols-1 gap-12 lg:mt-12 lg:grid-cols-5 lg:gap-16",children:[(0,a.jsx)("div",{className:"lg:col-span-3 lg:row-end-1",children:(0,a.jsxs)("div",{className:"lg:flex lg:items-start",children:[(0,a.jsx)("div",{className:"lg:order-2 lg:ml-5",children:(0,a.jsx)("div",{className:"max-w-xl overflow-hidden rounded-lg",children:(0,a.jsx)("img",{className:"h-full w-full max-w-full object-cover",src:(null==t?void 0:t.image)||"/_assets/image.png",alt:s})})}),(0,a.jsx)("div",{className:"mt-2 w-full lg:order-1 lg:w-32 lg:flex-shrink-0"})]})}),(0,a.jsxs)("div",{className:"lg:col-span-2 lg:row-span-2 lg:row-end-2",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:s}),(0,a.jsxs)("div",{className:"mt-5 flex items-center",children:[(0,a.jsx)("div",{className:"flex items-center",children:Array.from({length:Math.ceil(h)}).map((e,t)=>(0,a.jsx)("svg",{className:"block h-4 w-4 align-middle ".concat(t<Math.floor(h)?"text-yellow-500":"text-gray-400"),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},t))}),(0,a.jsxs)("p",{className:"ml-2 text-sm font-medium text-gray-500",children:[1209," Reviews"]})]}),(0,a.jsx)("h2",{className:"mt-8 text-base text-gray-900",children:"Price"}),(0,a.jsxs)("div",{className:"mt-3 flex items-center",children:[(0,a.jsxs)("span",{className:"text-3xl font-bold",children:["$",d.toFixed(2)]}),(0,a.jsxs)("span",{className:"ml-2 text-lg line-through text-gray-500",children:["$",l.toFixed(2)]}),(0,a.jsxs)("span",{className:"ml-2 text-sm text-green-600",children:["(",u.toFixed(2),"% off)"]})]}),(0,a.jsxs)("div",{className:"mt-10 grid grid-col md:grid-row lg:grid-row gap-5 items-center space-y-4 border-t border-b py-4 sm:flex-row sm:space-y-0",children:[(0,a.jsxs)("button",{onClick:function(){console.log("Buying product:",t)},type:"button",className:"inline-flex items-center justify-center rounded-md border-2 border-transparent bg-gray-900 px-12 py-3 text-center text-base font-bold text-white transition-all duration-200 ease-in-out focus:shadow hover:bg-gray-800",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"shrink-0 mr-3 h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),"Buy Now"]}),(0,a.jsxs)("button",{onClick:function(){console.log("Adding product to cart:",t),console.log(r),r?g.addProductToUserCart(t):(0,n.Bj)(t)},type:"button",className:"inline-flex items-center justify-center rounded-md border-2 border-transparent bg-gray-900 px-12 py-3 text-center text-base font-bold text-white transition-all duration-200 ease-in-out focus:shadow hover:bg-gray-800",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"shrink-0 mr-3 h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),"Add to Cart"]})]}),(0,a.jsxs)("ul",{className:"mt-8 space-y-2",children:[(0,a.jsxs)("li",{className:"flex items-center text-left text-sm font-medium text-gray-600",children:[(0,a.jsx)("svg",{className:"mr-2 block h-5 w-5 align-middle text-gray-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Free shipping worldwide"]}),(0,a.jsxs)("li",{className:"flex items-center text-left text-sm font-medium text-gray-600",children:[(0,a.jsx)("svg",{className:"mr-2 block h-5 w-5 align-middle text-gray-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),"Cancel Anytime"]})]})]}),(0,a.jsx)("div",{className:"lg:col-span-3",children:(0,a.jsx)("div",{className:"prose max-w-none",children:(0,a.jsx)("p",{children:o})})})]})]})})};function u(){let e=(0,o.useSearchParams)().get("id"),[t,r]=(0,s.useState)(null),[n,c]=(0,s.useState)(!0);return((0,s.useEffect)(()=>{e&&async function(){try{let t=await (0,l.yT)(e);r(t.data)}catch(e){console.error("Error fetching product:",e)}finally{c(!1)}}()},[e]),n)?(0,a.jsx)("div",{children:"Loading..."}):t?(0,a.jsx)(d,{product:t}):(0,a.jsx)("div",{children:"Product not found"})}},9689:(e,t,r)=>{"use strict";r.d(t,{Bj:()=>n,CG:()=>d,Xl:()=>u,o7:()=>i,qY:()=>c});let a="shopflow";function s(){let e=localStorage.getItem(a);return e?JSON.parse(e):[]}function o(e){localStorage.setItem(a,JSON.stringify(e))}function l(e,t){return e.findIndex(e=>e.id===t)}function n(e){let t=s(),r=l(t,e.id);-1===r?t.push({...e,quantity:1}):t[r].quantity+=1,o(t)}function c(e){let t=s();o(t=t.filter(t=>t.id!==e))}function i(e){let t=s(),r=l(t,e);-1!==r&&(t[r].quantity+=1,o(t))}function d(e){let t=s(),r=l(t,e);-1!==r&&(t[r].quantity>1?t[r].quantity-=1:c(e),o(t))}function u(){return s()}},5610:(e,t,r)=>{"use strict";r.d(t,{K4:()=>s,ZU:()=>i,Zu:()=>o,d$:()=>l,p7:()=>n,yT:()=>c}),r(2115);var a=r(6301);let s=async e=>{console.log(e);try{return(await a.S.get("/products/filteredProducts",{params:{categoryName:null==e?void 0:e.selectedCategory,subCategoryNames:null==e?void 0:e.selectedSubcategories,sort:null==e?void 0:e.sortOption}})).data}catch(e){throw console.error("Error fetching filtered products:",e.message),Error("Unable to fetch filtered products. Please try again later.")}};async function o(e){console.log(e);try{let t=await a.S.get("/products/getProductsByCategory",{params:{subCategoryId:e}});return console.log(t.data),t.data}catch(e){throw console.error("Error fetching products by subcategory:",e.message),Error("Unable to fetch products for the selected subcategory. Please try again later.")}}async function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;try{return(await a.S.get("/products/getAllProducts",{params:{page:e}})).data}catch(e){throw console.error("Error fetching products:",e.message),Error("Unable to fetch products. Please try again later.")}}async function n(){try{let e=await a.S.get("/products/Category");return console.log(e.data),e.data}catch(e){throw console.error("Error fetching categories:",e.message),Error("Unable to fetch categories. Please try again later.")}}async function c(e){try{return(await a.S.get("/products/getProductById",{params:{productId:e}})).data}catch(e){throw console.error("Error fetching product by ID:",e.message),Error("Unable to fetch product details. Please try again later.")}}async function i(e){try{return(await a.S.get("/products/getProductBySearch",{params:{query:e}})).data}catch(e){throw console.error("Error fetching searched products:",e.message),Error("Unable to search for products. Please try again later.")}}},5408:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var a=r(6301);let s=function(){let e="shopflow";this.loadCart=function(){let t=localStorage.getItem(e);return t?JSON.parse(t):[]},this.saveCart=function(t){localStorage.setItem(e,JSON.stringify(t))},this.migrateCart=async function(e){let t=this.loadCart();if(t.length>0){for(let r of t)await this.addItemToCart(e,r.id,r.quantity);this.clearCart()}},this.addItemToCart=async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;try{await a.S.post("/user/cart/addItemToCart",null,{params:{userId:e,productId:t,quantity:r}})}catch(e){console.error("Error adding item to cart:",e)}},this.viewCart=async function(e){try{return(await a.S.get("/user/cart/viewCart",{params:{userId:e}})).data}catch(e){return console.error("Error viewing cart:",e),[]}},this.deleteFromCart=async function(e,t){try{await a.S.post("/user/cart/deleteFromCart",null,{params:{userId:e,productId:t}})}catch(e){console.error("Error deleting item from cart:",e)}},this.updateCartCount=async function(e,t,r){try{await a.S.post("/user/cart/cartCount",null,{params:{userId:e,productId:t,operation:r}})}catch(e){console.error("Error updating cart count:",e)}},this.clearCart=function(){localStorage.removeItem(e)}}}},e=>{var t=t=>e(e.s=t);e.O(0,[651,391,441,517,358],()=>t(8296)),_N_E=e.O()}]);